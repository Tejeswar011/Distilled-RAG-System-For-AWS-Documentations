<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Working with directory buckets - Amazon Simple Storage Service</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="directory-buckets-overview" /><meta name="default_state" content="directory-buckets-overview" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/AmazonS3/latest/userguide/directory-buckets-overview.html" /><meta name="description" content="Store your objects within directory buckets." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Simple Storage Service" /><meta name="guide" content="User Guide" /><meta name="abstract" content="Learn how to use Amazon Simple Storage Service (Amazon S3) to store and retrieve any amount of data from anywhere. This guide explains Amazon S3 concepts, such as buckets, objects, and related configurations, and includes code examples for common operations." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/AmazonS3/latest/userguide/directory-buckets-overview.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AmazonS3/latest/userguide/directory-buckets-overview.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AmazonS3/latest/userguide/directory-buckets-overview.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AmazonS3/latest/userguide/directory-buckets-overview.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AmazonS3/latest/userguide/directory-buckets-overview.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/AmazonS3/latest/userguide/directory-buckets-overview.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/AmazonS3/latest/userguide/directory-buckets-overview.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AmazonS3/latest/userguide/directory-buckets-overview.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AmazonS3/latest/userguide/directory-buckets-overview.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AmazonS3/latest/userguide/directory-buckets-overview.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AmazonS3/latest/userguide/directory-buckets-overview.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AmazonS3/latest/userguide/directory-buckets-overview.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AmazonS3/latest/userguide/directory-buckets-overview.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AmazonS3/latest/userguide/directory-buckets-overview.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AmazonS3/latest/userguide/directory-buckets-overview.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AmazonS3/latest/userguide/directory-buckets-overview.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AmazonS3/latest/userguide/directory-buckets-overview.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AmazonS3/latest/userguide/directory-buckets-overview.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AmazonS3/latest/userguide/directory-buckets-overview.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/AmazonS3/latest/userguide/directory-buckets-overview.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/AmazonS3/latest/userguide/directory-buckets-overview.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/AmazonS3/latest/userguide/directory-buckets-overview.html" hreflang="x-default" /><meta name="feedback-item" content="S3" /><meta name="this_doc_product" content="Amazon Simple Storage Service" /><meta name="this_doc_guide" content="User Guide" /><head xmlns="http://www.w3.org/1999/xhtml"> <script defer="" src="/assets/r/awsdocs-doc-page.2.0.0.js"></script><link href="/assets/r/awsdocs-doc-page.2.0.0.css" rel="stylesheet"/></head>
<script defer="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'s3'}"></script><meta id="panorama-serviceSubSection" value="User Guide" /><meta id="panorama-serviceConsolePage" value="Working with directory buckets" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Working with directory buckets - Amazon Simple Storage Service</title><meta name="pdf" content="/pdfs/AmazonS3/latest/userguide/s3-userguide.pdf#directory-buckets-overview" /><meta name="rss" content="s3-userguide-rss-updates.rss" /><meta name="forums" content="https://repost.aws/tags/TADSTjraA0Q4-a1dxk6eUYaw" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=S3&amp;topic_url=https://docs.aws.amazon.com/en_us/AmazonS3/latest/userguide/directory-buckets-overview.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/en_us/AmazonS3/latest/userguide/directory-buckets-overview.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/en_us/AmazonS3/latest/userguide/directory-buckets-overview.html" /><meta name="keywords" content="S3,Amazon S3,S3 User Guide,Amazon S3 User Guide,Amazon User Guide,s3 bucket,s3 object,cloud storage,data storage,bucket type,Availability Zone,directory bucket limits" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Simple Storage Service (S3)",
        "item" : "https://docs.aws.amazon.com/s3/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "User Guide",
        "item" : "https://docs.aws.amazon.com/AmazonS3/latest/userguide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Working with directory buckets",
        "item" : "https://docs.aws.amazon.com/AmazonS3/latest/userguide/directory-buckets-overview.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="/pdfs/AmazonS3/latest/userguide/s3-userguide.pdf#directory-buckets-overview" target="_blank" rel="noopener noreferrer" title="Open PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="/index.html">Documentation</a><a href="/s3/index.html">Amazon Simple Storage Service (S3)</a><a href="Welcome.html">User Guide</a></div><div id="page-toc-src"><a href="#directory-buckets-name">Directory bucket names</a><a href="#directory-buckets-index">Directories</a><a href="#directory-buckets-key-names">Key names</a><a href="#directory-buckets-access-management">Access management</a><a href="#directory-buckets-quotas">Directory buckets quotas</a><a href="#directory-buckets-working">Creating and using directory buckets</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="directory-buckets-overview">Working with directory buckets</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Directory buckets organize data
        hierarchically into directories as opposed to the flat storage structure of
        general purpose buckets. There aren't prefix limits for directory buckets, and individual
        directories can scale horizontally.</p><p>You can create up to 100 directory buckets in each of your AWS accounts, with no limit on
        the number of objects that you can store in a bucket. Your bucket quota is applied to each
        Region in your AWS account. If your application requires increasing this limit, contact
        Support. </p><div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Important</h6></div><div class="awsdocs-note-text"><p>Directory buckets in Availability Zones that have no request activity for a period of at least 90 days
            transition to an inactive state. While in an inactive state, a directory bucket is
            temporarily inaccessible for reads and writes. Inactive buckets retain all storage,
            object metadata, and bucket metadata. Existing storage charges apply to inactive
            buckets. If you make an access request to an inactive bucket, the bucket transitions to
            an active state, typically within a few minutes. During this transition period, reads
            and writes return an HTTP <code class="code">503 (Service Unavailable)</code> error code. This doesn't apply to buckets in Local Zones.</p></div></div><p>There are several types of Amazon S3 buckets. Before creating a bucket, make sure that you choose the bucket type that best fits your application and performance requirements. For more information about the various bucket types and the appropriate use cases for each, see <a href="./Welcome.html#BasicsBucket">Buckets</a>.</p><p>The following topics provide information about directory buckets. For more information
        about general purpose buckets, see <a href="./UsingBucket.html">General purpose buckets overview</a>.</p><p>For more information about directory buckets, see the following topics.</p><div class="itemizedlist">

         
         
         
         
    <ul class="itemizedlist"><li class="listitem">
            <p><a href="#directory-buckets-name">Directory bucket names</a></p>
        </li><li class="listitem">
            <p><a href="#directory-buckets-index">Directories</a></p>
        </li><li class="listitem">
            <p><a href="#directory-buckets-key-names">Key names</a></p>
        </li><li class="listitem">
            <p><a href="#directory-buckets-access-management">Access management</a></p>
        </li></ul></div>
        <h2 id="directory-buckets-name">Directory bucket names</h2>
        <p>A directory bucket name consists of a base name that you provide and a suffix that
            contains the ID of the Zone (Availability Zone or Local Zone) that your bucket is located in. Directory
            bucket names must use the following format and follow the naming rules for directory
            buckets:</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><!--DEBUG: cli ()--><code class="nohighlight"><code class="replaceable">bucket-base-name</code>--<code class="replaceable">zone-id</code>--x-s3</code></pre>
        <p>For example, the following directory bucket name contains the Availability Zone ID <code class="code">usw2-az1</code>:</p> <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><!--DEBUG: cli ()--><code class="nohighlight"><code class="replaceable">bucket-base-name</code>--usw2-az1--x-s3</code></pre>
        <p>For more information, see <a href="./directory-bucket-naming-rules.html">Directory bucket naming rules</a>.</p>
     
        <h2 id="directory-buckets-index">Directories</h2>
        <p>Directory buckets organize data hierarchically into directories as opposed to the flat
            sorting structure of general purpose buckets. </p>
        <p>With a hierarchical namespace, the delimiter in the object key is important. The only
            supported delimiter is a forward slash (<code class="code">/</code>). Directories are determined by
            delimiter boundaries. For example, the object key
                <code>dir1/dir2/file1.txt</code> results in the directories
                <code>dir1</code>/ and <code>dir2/</code> being automatically
            created, and the object <code>file1.txt</code> being added to the
                <code>/dir2</code> directory in the path
                <code>dir1/dir2/file1.txt</code>.</p>
        <p>The directory bucket indexing model returns unsorted results for the
                <code class="code">ListObjectsV2</code> API operation. If you need to limit your results to a
            subsection of your bucket, you can specify a subdirectory path in the
                <code class="code">prefix</code> parameter, for example, <code class="code">prefix=dir1/</code>. </p>
     
        <h2 id="directory-buckets-key-names">Key names</h2>
        <p>For directory buckets, subdirectories that are common to multiple object keys are
            created with the first object key. Additional object keys for the same subdirectory use
            the previously created subdirectory. This model gives you flexibility in choosing object
            keys that are best suited to the application, with equal support for sparse and dense
            directories. </p>
     
        <h2 id="directory-buckets-access-management">Access management</h2>  
        <p>Directory buckets have all S3 Block Public Access settings enabled by default at the
            bucket level. S3 Object Ownership is set to bucket owner enforced and access control
            lists (ACLs) are disabled. These settings can't be modified.</p>
        <p>By default, users don't have permissions for directory buckets. To grant access permissions for directory buckets, you can use IAM to create users, groups, or roles and attach permissions to those identities. For more information, see 
            <a href="./s3-express-security-iam.html">Authorizing Regional endpoint API operations with IAM</a>.
           </p>
        <p>You can also control access to directory buckets through access points. Access points simplify managing data access at scale for shared datasets in Amazon S3. Access points are unique hostnames you create to enforce distinct permissions and network controls for all requests made through an access point. For more information, see <a href="./access-points-directory-buckets.html">Managing access to shared datasets in directory buckets with access points</a>.</p>
     
        <h2 id="directory-buckets-quotas">Directory buckets quotas</h2>
        <p>Quotas, also referred to as limits, are the maximum number of service resources or
            operations for your AWS account. The following are the quotas for directory buckets.
            For more information on quotas in Amazon S3, see <a href="https://docs.aws.amazon.com/general/latest/gr/s3.html#limits_s3">Amazon S3
                quotas</a>.</p>
        <div class="table-container"><div class="table-contents"><table id="w903aac16c25b5"><thead>
                    <tr>
                        <th>Name</th>
                        <th>Default</th>
                        <th>Adjustable</th>
                        <th>Description</th>
                    </tr>
                </thead>
                    <tr>
                        <td tabindex="-1">Directory buckets</td>
                        <td tabindex="-1">Each Account: 100</td>
                        <td tabindex="-1"><a href="https://console.aws.amazon.com/servicequotas/home/services/s3/quotas/L-775A314D" rel="noopener noreferrer" target="_blank"><span>Yes</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a></td>
                        <td tabindex="-1">The number of Amazon S3 directory buckets that you can create in an account.</td>
                    </tr>
                    <tr>
                        <td tabindex="-1">Read  TPS per directory bucket</td>
                        <td tabindex="-1">Each  directory bucket: up to 200,000 read TPS</td>
                        <td tabindex="-1">To request a quota increase, contact <a href="https://support.console.aws.amazon.com/support/home#/case/create?issueType=service-limit-increase" rel="noopener noreferrer" target="_blank"><span>Support</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</td>
                        <td tabindex="-1">The number of GET/HEAD requests per second per directory bucket.</td>
                    </tr>
                    <tr>
                        <td tabindex="-1">Write TPS per directory bucket</td>
                        <td tabindex="-1">Each  directory bucket: up to 100,000 write TPS</td>
                        <td tabindex="-1">To request a quota increase, contact <a href="https://support.console.aws.amazon.com/support/home#/case/create?issueType=service-limit-increase" rel="noopener noreferrer" target="_blank"><span>Support</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</td>
                        <td tabindex="-1">The number of PUT/DELETE requests per second per directory bucket.</td>
                    </tr>
                </table></div></div>
        
      
     
        <h2 id="directory-buckets-working">Creating and using directory buckets</h2>
        <p>For more information about working with directory buckets, see the following
            topics.</p>
        <div class="itemizedlist">
             
             
             
             
             
             
             
             
             
             
               
             
             

              
              
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><a href="./directory-bucket-use-cases.html">Use cases for directory buckets</a></p>
            </li><li class="listitem">
                <p><a href="./s3-express-differences.html">Differences for directory buckets</a></p>
            </li><li class="listitem">
                <p><a href="./s3-express-networking.html">Networking for directory buckets</a></p>
            </li><li class="listitem">
                <p><a href="./directory-bucket-naming-rules.html">Directory bucket naming rules</a></p>
            </li><li class="listitem">
                <p><a href="./directory-bucket-view.html">Viewing directory bucket properties</a></p>
            </li><li class="listitem">
                <p><a href="./directory-bucket-bucket-policy.html">Managing directory bucket policies</a></p>
            </li><li class="listitem">
                <p><a href="./directory-bucket-empty.html">Emptying a directory bucket</a></p>
            </li><li class="listitem">
                <p><a href="./directory-bucket-delete.html">Deleting a directory bucket</a></p>
            </li><li class="listitem">
                <p><a href="./directory-buckets-objects-ListExamples.html">Listing directory buckets</a></p>
            </li><li class="listitem">
                <p><a href="./directory-buckets-objects-HeadExamples.html">Determining whether you can access a directory bucket</a></p>
            </li><li class="listitem">
                <p><a href="./directory-buckets-objects.html">Working with objects in a directory
            bucket</a></p>
            </li><li class="listitem">
                <p><a href="./s3-express-security.html">Security for directory buckets</a></p>
            </li><li class="listitem">
                <p><a href="./access-points-directory-buckets.html">Managing access to shared datasets in directory buckets with access points</a></p>
            </li><li class="listitem">
                <p><a href="./s3-express-optimizing-performance.html">Optimizing directory bucket
      performance</a></p>
            </li><li class="listitem">
                <p><a href="./s3-express-developing.html">Developing with directory buckets</a></p>
            </li><li class="listitem">
                <p><a href="./directory-buckets-tagging.html">Using tags with S3 directory buckets</a></p>
            </li><li class="listitem">
                <p><a href="./s3-express-fis.html">Resilience testing in S3 Express One Zone</a></p>
            </li></ul></div>
    <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./s3-select-sql-reference-string.html">String functions</div><div id="next" class="next-link" accesskey="n" href="./directory-bucket-use-cases.html">Use cases for directory buckets</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=S3&amp;topic_url=https://docs.aws.amazon.com/en_us/AmazonS3/latest/userguide/directory-buckets-overview.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=S3&amp;topic_url=https://docs.aws.amazon.com/en_us/AmazonS3/latest/userguide/directory-buckets-overview.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>